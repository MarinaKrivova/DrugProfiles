Conda uses environments to load different sets of Python packages
type conda env list to see the environments availible.
2020-07-16 15:15:59 WARN  NativeCodeLoader:62 - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable

Finding optimal parameters for just drug profiles and cell lines

Traceback (most recent call last):
  File "/home/acq18mk/master/short_notebooks/6_2_tuning_all.py", line 356, in <module>
    train = pd.read_csv(_FOLDER+'train08_merged_fitted_sigmoid4_123_with_drugs_description.csv')
  File "/home/acq18mk/.conda/envs/myspark/lib/python3.6/site-packages/pandas/io/parsers.py", line 676, in parser_f
    return _read(filepath_or_buffer, kwds)
  File "/home/acq18mk/.conda/envs/myspark/lib/python3.6/site-packages/pandas/io/parsers.py", line 448, in _read
    parser = TextFileReader(fp_or_buf, **kwds)
  File "/home/acq18mk/.conda/envs/myspark/lib/python3.6/site-packages/pandas/io/parsers.py", line 880, in __init__
    self._make_engine(self.engine)
  File "/home/acq18mk/.conda/envs/myspark/lib/python3.6/site-packages/pandas/io/parsers.py", line 1114, in _make_engine
    self._engine = CParserWrapper(self.f, **self.options)
  File "/home/acq18mk/.conda/envs/myspark/lib/python3.6/site-packages/pandas/io/parsers.py", line 1891, in __init__
    self._reader = parsers.TextReader(src, **kwds)
  File "pandas/_libs/parsers.pyx", line 374, in pandas._libs.parsers.TextReader.__cinit__
  File "pandas/_libs/parsers.pyx", line 673, in pandas._libs.parsers.TextReader._setup_parser_source
FileNotFoundError: [Errno 2] File /home/acq18mk/master/results/train08_merged_fitted_sigmoid4_123_with_drugs_description.csv does not exist: '/home/acq18mk/master/results/train08_merged_fitted_sigmoid4_123_with_drugs_description.csv'
2020-07-16 15:16:31 INFO  ShutdownHookManager:54 - Shutdown hook called
2020-07-16 15:16:31 INFO  ShutdownHookManager:54 - Deleting directory /tmp/spark-a49acd37-027a-4656-a5fc-016963267f65
Conda uses environments to load different sets of Python packages
type conda env list to see the environments availible.
2020-07-16 15:23:18 WARN  NativeCodeLoader:62 - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable

Finding optimal parameters for just drug profiles and cell lines

Number of drugs for training: 11
Number of X_columns: 1073
linear kernel, best values for parameter: alpha
{1: 100.0, 2: 30.0, 3: 50.0, 4: 50.0}

linear kernel: Execution time: 68.451 seconds 

Number of X_columns: 1073
sigmoid kernel, best values for parameter: gamma
{1: 1e-05, 2: 0.1, 3: 0.01, 4: 1e-04}
Number of X_columns: 1073
sigmoid kernel, best values for parameter: alpha
{1: 5.0, 2: 1.0, 3: 0.5, 4: 0.5}
Number of X_columns: 1073
sigmoid kernel, best values for parameter: coef0
{1: 10.0, 2: 1.0, 3: 5.0, 4: 0.5}

sigmoid kernel: Execution time: 187.598 seconds 

Number of X_columns: 1073
rbf kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}
Number of X_columns: 1073
rbf kernel, best values for parameter: alpha
{1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}
Number of X_columns: 1073
rbf kernel, best values for parameter: coef0
{1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}

rbf kernel: Execution time: 208.204 seconds 

Number of X_columns: 1073
polynomial kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}
Number of X_columns: 1073
polynomial kernel, best values for parameter: degree
{1: 1.0, 2: 1.0, 3: 5.0, 4: 5.0}
Number of X_columns: 1073
polynomial kernel, best values for parameter: alpha
{1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0}

polynomial kernel: Execution time: 109.984 seconds 

Number of X_columns: 1073
additive_chi2 kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-05, 4: 1e-05}
Number of X_columns: 1073
additive_chi2 kernel, best values for parameter: alpha
{1: 500.0, 2: 100.0, 3: 200.0, 4: 300.0}
Number of X_columns: 1073
additive_chi2 kernel, best values for parameter: coef0
{1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}

additive_chi2 kernel: Execution time: 1204.935 seconds 

Number of X_columns: 1073
laplacian kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}
Number of X_columns: 1073
laplacian kernel, best values for parameter: alpha
{1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}
Number of X_columns: 1073
laplacian kernel, best values for parameter: coef0
{1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}

laplacian kernel: Execution time: 432.742 seconds 

Tuned parameters:
{'linear': {'alpha': {1: 100.0, 2: 30.0, 3: 50.0, 4: 50.0}}, 'sigmoid': {'alpha': {1: 5.0, 2: 1.0, 3: 0.5, 4: 0.5}, 'gamma': {1: 1e-05, 2: 0.1, 3: 0.01, 4: 1e-04}, 'coef0': {1: 10.0, 2: 1.0, 3: 5.0, 4: 0.5}}, 'rbf': {'alpha': {1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}, 'polynomial': {'alpha': {1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'degree': {1: 1.0, 2: 1.0, 3: 5.0, 4: 5.0}}, 'additive_chi2': {'alpha': {1: 500.0, 2: 100.0, 3: 200.0, 4: 300.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-05, 4: 1e-05}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}, 'laplacian': {'alpha': {1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}}

Better presentation:
linear 	 {'alpha': {1: 100.0, 2: 30.0, 3: 50.0, 4: 50.0}}
sigmoid 	 {'alpha': {1: 5.0, 2: 1.0, 3: 0.5, 4: 0.5}, 'gamma': {1: 1e-05, 2: 0.1, 3: 0.01, 4: 1e-04}, 'coef0': {1: 10.0, 2: 1.0, 3: 5.0, 4: 0.5}}
rbf 	 {'alpha': {1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}
polynomial 	 {'alpha': {1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'degree': {1: 1.0, 2: 1.0, 3: 5.0, 4: 5.0}}
additive_chi2 	 {'alpha': {1: 500.0, 2: 100.0, 3: 200.0, 4: 300.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-05, 4: 1e-05}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}
laplacian 	 {'alpha': {1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}
Number of X_columns: 1073
      linear_mse_coef1  linear_mse_coef2  linear_mse_coef3  linear_mse_coef4
mean         12.256332          5.231462        801.240262          0.972666
min           0.736369          1.147500        222.061340          0.726191
max         119.038800         23.270988       4306.899477          1.066772
Number of X_columns: 1073
      sigmoid_mse_coef1  ...  sigmoid_mse_coef4
mean           4.653728  ...           1.016846
min            1.003195  ...           0.760778
max           32.582651  ...           1.171539

[3 rows x 4 columns]
Number of X_columns: 1073
      rbf_mse_coef1  rbf_mse_coef2  rbf_mse_coef3  rbf_mse_coef4
mean       4.652856       4.999671     800.934286       1.017092
min        1.003175       1.057059     220.897643       0.760865
max       32.573928      19.656982    4306.870288       1.172778
Number of X_columns: 1073
      polynomial_mse_coef1  ...  polynomial_mse_coef4
mean              5.531153  ...              1.017147
min               1.085522  ...              0.760690
max              41.046597  ...              1.173306

[3 rows x 4 columns]
Number of X_columns: 1073
      additive_chi2_mse_coef1  ...  additive_chi2_mse_coef4
mean                51.004342  ...                 1.037457
min                  1.205535  ...                 0.776315
max                536.152487  ...                 1.210062

[3 rows x 4 columns]
Number of X_columns: 1073
      laplacian_mse_coef1  ...  laplacian_mse_coef4
mean             4.652856  ...             1.017092
min              1.003175  ...             0.760865
max             32.573928  ...             1.172778

[3 rows x 4 columns]
          linear    sigmoid        rbf  polynomial  additive_chi2  laplacian
mean   12.256332   4.653728   4.652856    5.531153      51.004342   4.652856
min     0.736369   1.003195   1.003175    1.085522       1.205535   1.003175
max   119.038800  32.582651  32.573928   41.046597     536.152487  32.573928
Coefficient: 1, best kernel: rbf
         linear    sigmoid        rbf  polynomial  additive_chi2  laplacian
mean   5.231462   5.484572   4.999671    4.999546       5.985890   4.999671
min    1.147500   1.137097   1.057059    1.056993       1.959301   1.057059
max   23.270988  24.052266  19.656982   19.654617      22.244361  19.656982
Coefficient: 2, best kernel: polynomial
           linear      sigmoid  ...  additive_chi2    laplacian
mean   801.240262   800.934285  ...     800.934358   800.934286
min    222.061340   220.897642  ...     220.897815   220.897643
max   4306.899477  4306.870288  ...    4306.870288  4306.870288

[3 rows x 6 columns]
Coefficient: 3, best kernel: sigmoid
        linear   sigmoid       rbf  polynomial  additive_chi2  laplacian
mean  0.972666  1.016846  1.017092    1.017147       1.037457   1.017092
min   0.726191  0.760778  0.760865    0.760690       0.776315   0.760865
max   1.066772  1.171539  1.172778    1.173306       1.210062   1.172778
Coefficient: 4, best kernel: linear
Best Kernels: {1: 'rbf', 2: 'polynomial', 3: 'sigmoid', 4: 'linear'}
          linear  sigmoid      rbf polynomial additive_chi2 laplacian
coef_1   12.2563  4.65373  4.65286    5.53115       51.0043   4.65286
coef_2   5.23146  5.48457  4.99967    4.99955       5.98589   4.99967
coef_3    801.24  800.934  800.934    800.934       800.934   800.934
coef_4  0.972666  1.01685  1.01709    1.01715       1.03746   1.01709

Finding optimal parameters for drug profiles, cell lines and drug description

Number of drugs for training: 11
Number of X_columns: 1073
linear kernel, best values for parameter: alpha
{1: 100.0, 2: 30.0, 3: 50.0, 4: 50.0}

linear kernel: Execution time: 64.787 seconds 

Number of X_columns: 1073
sigmoid kernel, best values for parameter: gamma
{1: 1e-05, 2: 0.1, 3: 0.01, 4: 1e-04}
Number of X_columns: 1073
sigmoid kernel, best values for parameter: alpha
{1: 5.0, 2: 1.0, 3: 0.5, 4: 0.5}
Number of X_columns: 1073
sigmoid kernel, best values for parameter: coef0
{1: 10.0, 2: 1.0, 3: 5.0, 4: 0.5}

sigmoid kernel: Execution time: 189.658 seconds 

Number of X_columns: 1073
rbf kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}
Number of X_columns: 1073
rbf kernel, best values for parameter: alpha
{1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}
Number of X_columns: 1073
rbf kernel, best values for parameter: coef0
{1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}

rbf kernel: Execution time: 189.128 seconds 

Number of X_columns: 1073
polynomial kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}
Number of X_columns: 1073
polynomial kernel, best values for parameter: degree
{1: 1.0, 2: 1.0, 3: 5.0, 4: 5.0}
Number of X_columns: 1073
polynomial kernel, best values for parameter: alpha
{1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0}

polynomial kernel: Execution time: 106.525 seconds 

Number of X_columns: 1073
additive_chi2 kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-05, 4: 1e-05}
Number of X_columns: 1073
additive_chi2 kernel, best values for parameter: alpha
{1: 500.0, 2: 100.0, 3: 200.0, 4: 300.0}
Number of X_columns: 1073
additive_chi2 kernel, best values for parameter: coef0
{1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}

additive_chi2 kernel: Execution time: 1195.221 seconds 

Number of X_columns: 1073
laplacian kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}
Number of X_columns: 1073
laplacian kernel, best values for parameter: alpha
{1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}
Number of X_columns: 1073
laplacian kernel, best values for parameter: coef0
{1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}

laplacian kernel: Execution time: 433.776 seconds 

Tuned parameters:
{'linear': {'alpha': {1: 100.0, 2: 30.0, 3: 50.0, 4: 50.0}}, 'sigmoid': {'alpha': {1: 5.0, 2: 1.0, 3: 0.5, 4: 0.5}, 'gamma': {1: 1e-05, 2: 0.1, 3: 0.01, 4: 1e-04}, 'coef0': {1: 10.0, 2: 1.0, 3: 5.0, 4: 0.5}}, 'rbf': {'alpha': {1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}, 'polynomial': {'alpha': {1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'degree': {1: 1.0, 2: 1.0, 3: 5.0, 4: 5.0}}, 'additive_chi2': {'alpha': {1: 500.0, 2: 100.0, 3: 200.0, 4: 300.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-05, 4: 1e-05}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}, 'laplacian': {'alpha': {1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}}

Better presentation:
linear 	 {'alpha': {1: 100.0, 2: 30.0, 3: 50.0, 4: 50.0}}
sigmoid 	 {'alpha': {1: 5.0, 2: 1.0, 3: 0.5, 4: 0.5}, 'gamma': {1: 1e-05, 2: 0.1, 3: 0.01, 4: 1e-04}, 'coef0': {1: 10.0, 2: 1.0, 3: 5.0, 4: 0.5}}
rbf 	 {'alpha': {1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}
polynomial 	 {'alpha': {1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'degree': {1: 1.0, 2: 1.0, 3: 5.0, 4: 5.0}}
additive_chi2 	 {'alpha': {1: 500.0, 2: 100.0, 3: 200.0, 4: 300.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-05, 4: 1e-05}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}
laplacian 	 {'alpha': {1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}
Number of X_columns: 1073
      linear_mse_coef1  linear_mse_coef2  linear_mse_coef3  linear_mse_coef4
mean         12.256332          5.231462        801.240262          0.972666
min           0.736369          1.147500        222.061340          0.726191
max         119.038800         23.270988       4306.899477          1.066772
Number of X_columns: 1073
      sigmoid_mse_coef1  ...  sigmoid_mse_coef4
mean           4.653728  ...           1.016846
min            1.003195  ...           0.760778
max           32.582651  ...           1.171539

[3 rows x 4 columns]
Number of X_columns: 1073
      rbf_mse_coef1  rbf_mse_coef2  rbf_mse_coef3  rbf_mse_coef4
mean       4.652856       4.999671     800.934286       1.017092
min        1.003175       1.057059     220.897643       0.760865
max       32.573928      19.656982    4306.870288       1.172778
Number of X_columns: 1073
      polynomial_mse_coef1  ...  polynomial_mse_coef4
mean              5.531153  ...              1.017147
min               1.085522  ...              0.760690
max              41.046597  ...              1.173306

[3 rows x 4 columns]
Number of X_columns: 1073
      additive_chi2_mse_coef1  ...  additive_chi2_mse_coef4
mean                51.004342  ...                 1.037457
min                  1.205535  ...                 0.776315
max                536.152487  ...                 1.210062

[3 rows x 4 columns]
Number of X_columns: 1073
      laplacian_mse_coef1  ...  laplacian_mse_coef4
mean             4.652856  ...             1.017092
min              1.003175  ...             0.760865
max             32.573928  ...             1.172778

[3 rows x 4 columns]
          linear    sigmoid        rbf  polynomial  additive_chi2  laplacian
mean   12.256332   4.653728   4.652856    5.531153      51.004342   4.652856
min     0.736369   1.003195   1.003175    1.085522       1.205535   1.003175
max   119.038800  32.582651  32.573928   41.046597     536.152487  32.573928
Coefficient: 1, best kernel: rbf
         linear    sigmoid        rbf  polynomial  additive_chi2  laplacian
mean   5.231462   5.484572   4.999671    4.999546       5.985890   4.999671
min    1.147500   1.137097   1.057059    1.056993       1.959301   1.057059
max   23.270988  24.052266  19.656982   19.654617      22.244361  19.656982
Coefficient: 2, best kernel: polynomial
           linear      sigmoid  ...  additive_chi2    laplacian
mean   801.240262   800.934285  ...     800.934358   800.934286
min    222.061340   220.897642  ...     220.897815   220.897643
max   4306.899477  4306.870288  ...    4306.870288  4306.870288

[3 rows x 6 columns]
Coefficient: 3, best kernel: sigmoid
        linear   sigmoid       rbf  polynomial  additive_chi2  laplacian
mean  0.972666  1.016846  1.017092    1.017147       1.037457   1.017092
min   0.726191  0.760778  0.760865    0.760690       0.776315   0.760865
max   1.066772  1.171539  1.172778    1.173306       1.210062   1.172778
Coefficient: 4, best kernel: linear
Best Kernels: {1: 'rbf', 2: 'polynomial', 3: 'sigmoid', 4: 'linear'}
          linear  sigmoid      rbf polynomial additive_chi2 laplacian
coef_1   12.2563  4.65373  4.65286    5.53115       51.0043   4.65286
coef_2   5.23146  5.48457  4.99967    4.99955       5.98589   4.99967
coef_3    801.24  800.934  800.934    800.934       800.934   800.934
coef_4  0.972666  1.01685  1.01709    1.01715       1.03746   1.01709

Finding optimal parameters for drug profiles, cell lines and drug features

Number of drugs for training: 11
Number of X_columns: 1122
linear kernel, best values for parameter: alpha
{1: 500.0, 2: 100.0, 3: 500.0, 4: 500.0}

linear kernel: Execution time: 61.211 seconds 

Number of X_columns: 1122
sigmoid kernel, best values for parameter: gamma
{1: 1e-05, 2: 0.01, 3: 1e-05, 4: 1e-05}
Number of X_columns: 1122
sigmoid kernel, best values for parameter: alpha
{1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0}
Number of X_columns: 1122
sigmoid kernel, best values for parameter: coef0
{1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}

sigmoid kernel: Execution time: 136.048 seconds 

Number of X_columns: 1122
rbf kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}
Number of X_columns: 1122
rbf kernel, best values for parameter: alpha
{1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}
Number of X_columns: 1122
rbf kernel, best values for parameter: coef0
{1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}

rbf kernel: Execution time: 177.953 seconds 

Number of X_columns: 1122
polynomial kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-05, 4: 1e-05}
Number of X_columns: 1122
polynomial kernel, best values for parameter: degree
{1: 1.0, 2: 5.0, 3: 3.0, 4: 1.0}
Number of X_columns: 1122
polynomial kernel, best values for parameter: alpha
{1: 7.0, 2: 1.0, 3: 1.0, 4: 0.01}

polynomial kernel: Execution time: 101.306 seconds 

Number of X_columns: 1122
additive_chi2 kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-05, 4: 1e-05}
Number of X_columns: 1122
additive_chi2 kernel, best values for parameter: alpha
{1: 500.0, 2: 100.0, 3: 200.0, 4: 300.0}
Number of X_columns: 1122
additive_chi2 kernel, best values for parameter: coef0
{1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}

additive_chi2 kernel: Execution time: 1294.693 seconds 

Number of X_columns: 1122
laplacian kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}
Number of X_columns: 1122
laplacian kernel, best values for parameter: alpha
{1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}
Number of X_columns: 1122
laplacian kernel, best values for parameter: coef0
{1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}

laplacian kernel: Execution time: 413.905 seconds 

Tuned parameters:
{'linear': {'alpha': {1: 500.0, 2: 100.0, 3: 500.0, 4: 500.0}}, 'sigmoid': {'alpha': {1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 0.01, 3: 1e-05, 4: 1e-05}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}, 'rbf': {'alpha': {1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}, 'polynomial': {'alpha': {1: 7.0, 2: 1.0, 3: 1.0, 4: 0.01}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-05, 4: 1e-05}, 'degree': {1: 1.0, 2: 5.0, 3: 3.0, 4: 1.0}}, 'additive_chi2': {'alpha': {1: 500.0, 2: 100.0, 3: 200.0, 4: 300.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-05, 4: 1e-05}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}, 'laplacian': {'alpha': {1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}}

Better presentation:
linear 	 {'alpha': {1: 500.0, 2: 100.0, 3: 500.0, 4: 500.0}}
sigmoid 	 {'alpha': {1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 0.01, 3: 1e-05, 4: 1e-05}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}
rbf 	 {'alpha': {1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}
polynomial 	 {'alpha': {1: 7.0, 2: 1.0, 3: 1.0, 4: 0.01}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-05, 4: 1e-05}, 'degree': {1: 1.0, 2: 5.0, 3: 3.0, 4: 1.0}}
additive_chi2 	 {'alpha': {1: 500.0, 2: 100.0, 3: 200.0, 4: 300.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-05, 4: 1e-05}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}
laplacian 	 {'alpha': {1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}, 'gamma': {1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}, 'coef0': {1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}}
Number of X_columns: 1122
      linear_mse_coef1  linear_mse_coef2  linear_mse_coef3  linear_mse_coef4
mean          7.030825          5.341570        800.934281          1.020692
min           1.109070          1.372830        220.897647          0.762406
max          56.994125         21.104164       4306.870288          1.186498
Number of X_columns: 1122
      sigmoid_mse_coef1  ...  sigmoid_mse_coef4
mean           5.521703  ...           1.016845
min            1.085449  ...           0.760733
max           41.003652  ...           1.171698

[3 rows x 4 columns]
Number of X_columns: 1122
      rbf_mse_coef1  rbf_mse_coef2  rbf_mse_coef3  rbf_mse_coef4
mean       4.652856       4.999671     800.934286       1.017092
min        1.003175       1.057059     220.897643       0.760865
max       32.573928      19.656982    4306.870288       1.172778
Number of X_columns: 1122
      polynomial_mse_coef1  ...  polynomial_mse_coef4
mean              5.414510  ...              1.020595
min               1.070120  ...              0.762834
max              40.334018  ...              1.184265

[3 rows x 4 columns]
Number of X_columns: 1122
      additive_chi2_mse_coef1  ...  additive_chi2_mse_coef4
mean                51.004342  ...                 1.037457
min                  1.205535  ...                 0.776315
max                536.152487  ...                 1.210062

[3 rows x 4 columns]
Number of X_columns: 1122
      laplacian_mse_coef1  ...  laplacian_mse_coef4
mean             4.652856  ...             1.017092
min              1.003175  ...             0.760865
max             32.573928  ...             1.172778

[3 rows x 4 columns]
         linear    sigmoid        rbf  polynomial  additive_chi2  laplacian
mean   7.030825   5.521703   4.652856    5.414510      51.004342   4.652856
min    1.109070   1.085449   1.003175    1.070120       1.205535   1.003175
max   56.994125  41.003652  32.573928   40.334018     536.152487  32.573928
Coefficient: 1, best kernel: rbf
         linear    sigmoid        rbf  polynomial  additive_chi2  laplacian
mean   5.341570   4.999532   4.999671    5.529854       5.985890   4.999671
min    1.372830   1.056955   1.057059    1.108868       1.959301   1.057059
max   21.104164  19.652424  19.656982   23.700956      22.244361  19.656982
Coefficient: 2, best kernel: sigmoid
           linear      sigmoid  ...  additive_chi2    laplacian
mean   800.934281   800.934288  ...     800.934358   800.934286
min    220.897647   220.897644  ...     220.897815   220.897643
max   4306.870288  4306.870288  ...    4306.870288  4306.870288

[3 rows x 6 columns]
Coefficient: 3, best kernel: linear
        linear   sigmoid       rbf  polynomial  additive_chi2  laplacian
mean  1.020692  1.016845  1.017092    1.020595       1.037457   1.017092
min   0.762406  0.760733  0.760865    0.762834       0.776315   0.760865
max   1.186498  1.171698  1.172778    1.184265       1.210062   1.172778
Coefficient: 4, best kernel: sigmoid
Best Kernels: {1: 'rbf', 2: 'sigmoid', 3: 'linear', 4: 'sigmoid'}
         linear  sigmoid      rbf polynomial additive_chi2 laplacian
coef_1  7.03083   5.5217  4.65286    5.41451       51.0043   4.65286
coef_2  5.34157  4.99953  4.99967    5.52985       5.98589   4.99967
coef_3  800.934  800.934  800.934    800.934       800.934   800.934
coef_4  1.02069  1.01684  1.01709     1.0206       1.03746   1.01709

Finding optimal parameters for drug profiles, cell lines and drug features with scaling

Number of drugs for training: 11
Number of X_columns: 1122
linear kernel, best values for parameter: alpha
{1: 300.0, 2: 50.0, 3: 100.0, 4: 100.0}

linear kernel: Execution time: 61.449 seconds 

Number of X_columns: 1122
sigmoid kernel, best values for parameter: gamma
{1: 1e-05, 2: 0.01, 3: 0.01, 4: 0.1}
Number of X_columns: 1122
sigmoid kernel, best values for parameter: alpha
{1: 5.0, 2: 1.0, 3: 0.5, 4: 0.5}
Number of X_columns: 1122
sigmoid kernel, best values for parameter: coef0
{1: 10.0, 2: 0.5, 3: 5.0, 4: 5.0}

sigmoid kernel: Execution time: 164.282 seconds 

Number of X_columns: 1122
rbf kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}
Number of X_columns: 1122
rbf kernel, best values for parameter: alpha
{1: 5.0, 2: 1.0, 3: 1.0, 4: 1.0}
Number of X_columns: 1122
rbf kernel, best values for parameter: coef0
{1: -0.1, 2: -0.1, 3: -0.1, 4: -0.1}

rbf kernel: Execution time: 183.928 seconds 

Number of X_columns: 1122
polynomial kernel, best values for parameter: gamma
{1: 1e-05, 2: 1e-05, 3: 1e-04, 4: 1e-04}
Number of X_columns: 1122
polynomial kernel, best values for parameter: degree
{1: 1.0, 2: 1.0, 3: 5.0, 4: 5.0}
Number of X_columns: 1122
polynomial kernel, best values for parameter: alpha
{1: 1.0, 2: 1.0, 3: 1.0, 4: 1.0}

polynomial kernel: Execution time: 97.939 seconds 

Number of X_columns: 1122
Traceback (most recent call last):
  File "/home/acq18mk/master/short_notebooks/6_2_tuning_all.py", line 457, in <module>
    print_results=False)
  File "/home/acq18mk/master/short_notebooks/6_2_tuning_all.py", line 267, in TuneParameters
    print_results=print_results)
  File "/home/acq18mk/master/short_notebooks/6_2_tuning_all.py", line 131, in RunCrossValidation
    mse = LeaveOneOutError(kernel_model, X_train, y_train, metrics="mse")
  File "/home/acq18mk/master/short_notebooks/6_2_tuning_all.py", line 39, in LeaveOneOutError
    model = kernel_model.fit(X_train_loo, y_train_loo)
  File "/home/acq18mk/.conda/envs/myspark/lib/python3.6/site-packages/sklearn/kernel_ridge.py", line 156, in fit
    K = self._get_kernel(X)
  File "/home/acq18mk/.conda/envs/myspark/lib/python3.6/site-packages/sklearn/kernel_ridge.py", line 124, in _get_kernel
    filter_params=True, **params)
  File "/home/acq18mk/.conda/envs/myspark/lib/python3.6/site-packages/sklearn/metrics/pairwise.py", line 1909, in pairwise_kernels
    return _parallel_pairwise(X, Y, func, n_jobs, **kwds)
  File "/home/acq18mk/.conda/envs/myspark/lib/python3.6/site-packages/sklearn/metrics/pairwise.py", line 1348, in _parallel_pairwise
    return func(X, Y, **kwds)
  File "/home/acq18mk/.conda/envs/myspark/lib/python3.6/site-packages/sklearn/metrics/pairwise.py", line 1233, in additive_chi2_kernel
    raise ValueError("X contains negative values.")
ValueError: X contains negative values.
2020-07-16 17:21:58 INFO  ShutdownHookManager:54 - Shutdown hook called
2020-07-16 17:21:58 INFO  ShutdownHookManager:54 - Deleting directory /tmp/spark-010e988c-932b-40da-9761-60eb0439df59
